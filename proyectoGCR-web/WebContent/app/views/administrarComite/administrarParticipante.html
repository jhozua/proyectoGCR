
<div class="container-fluid" >
<br/>
	<div class="panel panel-primary" ng-hide="adminParticipantes.hideParticipantes">
	<div class="panel-heading">Administrar participantes</div>
			
		  <div class="panel-body">
				<form class="formAdminComite" role="form">

				<br />
			  	<div class="panel panel-primary">

				  		<div class="panel-heading">Participantes
							
							<span  ng-click="adminParticipantes.eliminarParticipantes()" class="glyphicon glyphicon glyphicon-trash btn botonEliminar" data-placement="top" title="Eliminar participantes seleccionados" ng-if="adminParticipantes.func.fEliminar == 'S'" onmouseover="$(this).tooltip('show')" onmouseleave="$(this).tooltip('hide')"></span>					  			
				  			<span ng-click="adminParticipantes.irCrearParticipante()" ng-if="adminParticipantes.func.fCrear == 'S'" class="glyphicon glyphicon-plus btn botonEliminar" data-placement="top" title="Crear nuevo particpante" onmouseenter="$(this).tooltip('show')" onmouseleave="$(this).tooltip('hide')"></span>
				  		</div>
				  		<div class="panel-body">
						  	<table class="table table-hover table-borderedk">
						  	 	<thead>	
							  	 	<tr>
							            <th ng-click="adminParticipantes.doSort('tipoParticipante.descripcion')">Tipo participante
							            	<span ng-show="!adminParticipantes.reverse && adminParticipantes.sortBy == 'tipoParticipante.descripcion'" class="glyphicon glyphicon-chevron-down orderIcon"></span>
			        						<span ng-show="adminParticipantes.reverse && adminParticipantes.sortBy == 'tipoParticipante.descripcion'" class="glyphicon glyphicon-chevron-up orderIcon"></span></th>
							            <th ng-click="adminParticipantes.doSort('tipoIdentificacion.descripcion')">Tipo identificación
							            	<span ng-show="!adminParticipantes.reverse && adminParticipantes.sortBy == 'tipoIdentificacion.descripcion'" class="glyphicon glyphicon-chevron-down orderIcon"></span>
			        						<span ng-show="adminParticipantes.reverse && adminParticipantes.sortBy == 'tipoIdentificacion.descripcion'" class="glyphicon glyphicon-chevron-up orderIcon"></span></th>
							            <th ng-click="adminParticipantes.doSort('numeroIdentificacion')">No. identificación
							            	<span ng-show="!adminParticipantes.reverse && adminParticipantes.sortBy == 'numeroIdentificacion'" class="glyphicon glyphicon-chevron-down orderIcon"></span>
			        						<span ng-show="adminParticipantes.reverse && adminParticipantes.sortBy == 'numeroIdentificacion'" class="glyphicon glyphicon-chevron-up orderIcon"></span></th>
							            <th ng-click="adminParticipantes.doSort('nombre')">Nombre
							            	<span ng-show="!adminParticipantes.reverse && adminParticipantes.sortBy == 'nombre'" class="glyphicon glyphicon-chevron-down orderIcon"></span>
			        						<span ng-show="adminParticipantes.reverse && adminParticipantes.sortBy == 'nombre'" class="glyphicon glyphicon-chevron-up orderIcon"></span></th>
							            <th ng-click="adminParticipantes.doSort('cargo')">Cargo
							            	<span ng-show="!adminParticipantes.reverse && adminParticipantes.sortBy == 'cargo'" class="glyphicon glyphicon-chevron-down orderIcon"></span>
			        						<span ng-show="adminParticipantes.reverse && adminParticipantes.sortBy == 'cargo'" class="glyphicon glyphicon-chevron-up orderIcon"></span></th>
							            <th ng-click="adminParticipantes.doSort('email')">Email
							            	<span ng-show="!adminParticipantes.reverse && adminParticipantes.sortBy == 'email'" class="glyphicon glyphicon-chevron-down orderIcon"></span>
			        						<span ng-show="adminParticipantes.reverse && adminParticipantes.sortBy == 'email'" class="glyphicon glyphicon-chevron-up orderIcon"></span></th>
							            <th class="col-sm-2" ng-if="adminParticipantes.func.fEliminar == 'S'">Eliminar
							           		 <span><input type="checkbox" aria-label="checkbox" ng-change="adminParticipantes.checkAll(adminParticipantes.checkAllFlag)" ng-model="adminParticipantes.checkAllFlag" ng-true-value="true" ng-false-value="false"></span>
							            </th>
							            <th ng-if="adminParticipantes.func.fActualizar == 'S'">Editar</th>
							        </tr>
							      </thead>
							      <tbody>
							        <tr ng-repeat="dato in adminParticipantes.participantesComite | filterMiembrosGrupo | orderBy: adminParticipantes.sortBy:adminParticipantes.reverse">
							            <td title="Tipo participante" >
							                {{dato.tipoParticipante.descripcion}}
							            </td>
							            <td data-title="Tipo identificación">
							                {{dato.tipoIdentificacion.descripcion}}
							            </td>
							            <td data-title="No. identificación">
							                {{dato.numeroIdentificacion}}
							            </td>
							            <td data-title="Nombre">
							                {{dato.nombre}}
							            </td>
							            <td data-title="Cargo">
							                {{dato.cargo}}
							            </td>
							            <td data-title="Email">
							                {{dato.email}}
							            </td>
							            <td data-title="Eliminar" ng-if="adminParticipantes.func.fEliminar == 'S'" align="center">
						        			<span><input type="checkbox" aria-label="checkbox" ng-model="dato.selected"></span>	
							            </td>
							             <td data-title="Editar" ng-if="adminParticipantes.func.fActualizar == 'S'">
							                 <div style="text-align: center;">
							                      <span class="glyphicon glyphicon-pencil" ng-click="adminParticipantes.irEdicionParticipante($index)"/>
							                 </div>
							            </td>
							        </tr>
						        </tbody>
					    	</table>
		    			</div>
					</div>
				<div class="form-group">			
			    	<button class="btn btn-primary" ng-click="adminParticipantes.irGestionComite()">Atrás</button>
			    	<button class="btn btn-primary" ng-if="adminParticipantes.func.fActualizar == 'S' || adminParticipantes.func.fEliminar == 'S'" ng-click="adminParticipantes.guardarParticipante()" >Guardar</button><br />
			    </div>

		    	<br >
			</form>
		</div>
	</div>

	<div class="panel panel-primary" ng-hide="adminParticipantes.hideEditarParticipante">
		<div class="panel-heading">Editar participante</div>
		  <div class="panel-body">
			<form  role="form" role="form" name="editarParticipanteForm" novalidate>
				<div class="row" style="width: 50%;" >
				<div class="col-md-6 col-sm-6 col-xs-12">
					<div class="form-group" >
					      <div class="form-group" ng-class="{'has-error': editarParticipanteForm.varTipoParticipante.$error.required && editarParticipanteForm.varTipoParticipante.$touched}">
						      <label for="varTipoParticipante">Tipo participante</label>
						       <select ng-disabled="adminParticipantes.func.fActualizar != 'S'" name="varTipoParticipante" class="form-control" ng-model="adminParticipantes.participanteComite.tipoParticipante.codigoParametro" required>
			                   		<option ng-repeat="dato in adminParticipantes.tipoParticipantes" value="{{dato.codigoParametro}}">{{dato.descripcion}}</option>
							   </select>
							   <small ng-show="editarParticipanteForm.varTipoParticipante.$error.required && editarParticipanteForm.varTipoParticipante.$touched">Por favor ingresar tipo participante del participante</small>
						   </div>						  
						   <div class="form-group">
						      <label for="varTipoIdentificacion">Tipo identificación participante</label>
						       <select class="form-control" name="varTipoIdentificacion" ng-model="adminParticipantes.participanteComite.tipoIdentificacion.codigoParametro" ng-disabled="true">
			                   		<option ng-repeat="dato in adminParticipantes.tipoIdentificaciones" value="{{dato.codigoParametro}}">{{dato.descripcion}}</option>
							   </select>
						   </div>
							 
							<div class="form-group"> 
						      	 <label for="varNumeroIdentificacion">No. identificación Participante</label>
						     	 <input name="varNumeroIdentificacion" type="text" class="form-control" ng-disabled="true" ng-model="adminParticipantes.participanteComite.numeroIdentificacion" ng-maxlength='50' />
							</div>
					       <div class="form-group" ng-class="{'has-error': editarParticipanteForm.varNombre.$error.required && editarParticipanteForm.varNombre.$touched}">
							 <label for="varNombre">Nombre participante</label>
					     	 <input name="varNombre" type="text" class="form-control" ng-model="adminParticipantes.participanteComite.nombre" ng-disabled="adminParticipantes.func.fActualizar != 'S'" maxlength='150' required/>
					     	 <small ng-show="editarParticipanteForm.varNombre.$error.required && editarParticipanteForm.varNombre.$touched">Por favor ingresar nombre del participante</small>
							</div>
							<div class="form-group">
							 <label for="name">Cargo</label>
					     	 <input name="varCodigo" type="text" class="form-control" ng-model="adminParticipantes.participanteComite.cargo" maxlength='100' />
							 <div class="form-group" ng-class="{'has-error':(editarParticipanteForm.varEmail.$error.required || editarParticipanteForm.varEmail.$error.email)}">
							 	<label for="varEmail">Email</label>
					      		<input name="varEmail" type="email" class="form-control" ng-model="adminParticipantes.participanteComite.email" ng-disabled="adminParticipantes.func.fActualizar != 'S'" maxlength='100' />
					      		<small ng-if="(editarParticipanteForm.varEmail.$error.required || editarParticipanteForm.varEmail.$error.email)">Por favor ingrese un correo válido</small>
							</div>
	 						<div class="form-group">
							 	<label for="name" >Usuario BPM</label>
					      		<input name="varCodigo" type="text" class="form-control" ng-disabled="adminParticipantes.func.fActualizar != 'S'" ng-model="adminParticipantes.participanteComite.usuarioBpm" maxlength='100' />
							</div>
				      	</div>
			      	</div>
					<div class="form-group">	
				    	<button class="btn btn-primary" ng-click="adminParticipantes.irParticipantes()">Atrás</button>
						<button class="btn btn-primary" ng-if="adminParticipantes.func.fActualizar == 'S'" ng-click="adminParticipantes.actualizarParticipante()" ng-disabled=" (adminParticipantes.participanteComite.email.length > 0 && editarParticipanteForm.varEmail.$invalid) || editarParticipanteForm.varTipoParticipante.$invalid || editarParticipanteForm.varNombre.$invalid" >Guardar</button> <br/>
				    </div>
				</div>
			</form>
		  </div>
		</div>
	</div>
</div>